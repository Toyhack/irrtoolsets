# $Id$

GOAL   = libdataset.a

OBJS   = SymbolConjunctPtr.Bag.o  SymbolConjunctPtr.SplayBag.o \
	 SymbolConjunctPtr.SplayNode.o \
	 NormalTermPtr.DLList.o \
	 unsigned.OXPSet.o unsigned.Plex.o unsigned.Set.o unsigned.XPlex.o \
	 CacheKey.CacheValue.AVLMap.o CacheKey.CacheValue.Map.o \
	 PrefixRange.Plex.o PrefixRange.XPlex.o SymID.Set.o SymID.VHSet.o

SRCS   = SymbolConjunctPtr.Bag.cc SymbolConjunctPtr.SplayBag.cc \
	 SymbolConjunctPtr.SplayNode.cc \
	 NormalTermPtr.DLList.cc \
	 unsigned.OXPSet.cc unsigned.Plex.cc unsigned.Set.cc unsigned.XPlex.cc \
	 CacheKey.CacheValue.AVLMap.cc CacheKey.CacheValue.Map.cc \
	 PrefixRange.Plex.cc PrefixRange.XPlex.cc SymID.Set.cc SymID.VHSet.cc

HFILES = SymbolConjunctPtr.Bag.h  SymbolConjunctPtr.SplayBag.h \
	 SymbolConjunctPtr.SplayNode.h  SymbolConjunctPtr.defs.h \
	 NormalTermPtr.DLList.h NormalTermPtr.defs.h \
	 unsigned.OXPSet.h unsigned.Plex.h unsigned.Set.h unsigned.XPlex.h \
	 unsigned.defs.h \
	 CacheKey.CacheValue.Map.h CacheKey.CacheValue.AVLMap.h CacheKey.defs.h \
	 PrefixRange.Plex.h PrefixRange.XPlex.h SymID.Set.h SymID.VHSet.h \
	 PrefixRange.defs.h SetOfSymID.hh SymID.defs.h prefixranges.hh \
	 Pix.h

LIBS   =

# directories
datarootdir	= @datarootdir@
srcdir		= @srcdir@
top_srcdir	= @top_srcdir@
VPATH		= @srcdir@
INCDIRS		= -I$(srcdir) -I. -I$(top_srcdir)/src -I.. @all_INCDIRS@ @EXTRA_INCLUDE_DIRS@

# programs
@SET_MAKE@
SHELL           = /bin/sh
RANLIB          = @RANLIB@
CC              = @CC@
CXX             = @CXX@
BISON           = @YACC@
FLEX            = @LEX@
LD              = @LD@
PERL            = @PERL_PATH@
INSTALL         = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA    = @INSTALL_DATA@

# The default location for installation.
prefix      = @prefix@
exec_prefix = @exec_prefix@
bindir      = @bindir@
mandir      = @mandir@
man1dir     = $(mandir)/man1
man3dir     = $(mandir)/man3

DEFINES  = @DEFS@
CFLAGS   = @CFLAGS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS  = @LDFLAGS@
CXXFLAGS = @CXXFLAGS@

default: all

.y.o:

.c.o:
	$(CC)  -c $(CPPFLAGS) $(CFLAGS) $(DEFINES) $(INCDIRS) $<

.cc.o:
	$(CXX) -c $(CPPFLAGS) $(CXXFLAGS) $(DEFINES) $(INCDIRS) $<

.SUFFIXES: .cc

#
# No need to make changes below
#
all: $(GOAL)

$(GOAL): $(OBJS)
	ar ruv $(GOAL) $?
	$(RANLIB) $(GOAL)

clean:
	rm -f core *.o *~ $(GOAL)

mostlyclean:
	rm -f core *.o *~

# make dependencies
depend:	${SRCS}
	$(CXX) -MM $(CPPFLAGS) $(CXXFLAGS) $(DEFINES) $(INCDIRS) $^ >makedep
	echo '/^# DO NOT DELETE THIS LINE/+1,$$d' >eddep
	echo '$$r makedep' >>eddep
	echo 'w' >>eddep
	cp Makefile Makefile.bak
	ed - Makefile < eddep
	rm eddep makedep
	echo '# DEPENDENCIES MUST END AT END OF FILE' >> Makefile
	echo '# IF YOU PUT STUFF HERE IT WILL GO AWAY' >> Makefile
	echo '# see make depend above' >> Makefile

# DO NOT DELETE THIS LINE
# DEPENDENCIES MUST END AT END OF FILE
# IF YOU PUT STUFF HERE IT WILL GO AWAY
# see make depend above
